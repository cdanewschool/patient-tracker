<div data-role="page">

	<tabset>
	
		<tab heading="My Trackers" class="small">
			
			<div>
		    
		    	<div ng-show="model.trackers == null || !model.trackers.length" style="margin:20px;">
		    		You haven't added any trackers yet. Get going!
		    	</div>
		    	
				<div class="list-group" ng-show="model.trackers">
					
					<a class="list-group-item" ng-repeat="tracker in model.trackers" style="">
				    	<button type="button" class="close pull-right" aria-hidden="true" confirm-delete="remove-tracker-confirm" confirm-callback="deleteStatement(tracker)">&times;</button>
				    	<small class="text-muted pull-right" style="margin-right:10px;margin-top:4px">{{tracker.type}}</small>
						<h4 class="list-group-item-heading" ng-click="navigation.viewTracker('tracker',tracker)">{{tracker.name}}</h4>
					</a>
					
				</div>
				
		  	</div>
		  	
		</tab>
		
		<tab heading="Record" class="small">
		
			<div ng-show="model.trackerOptions == null || model.trackerOptions.length<=1" style="margin:20px;">
		    	You haven't added any trackers yet. Get going!
		    </div>
		    	
			<div class="row" style="margin:20px" ng-show="model.trackerOptions.length>1">
			
				<div class="alert alert-warning alert-dismissable" ng-if="status!=null">
					<button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="setStatus()">&times;</button>
					<small>{{status}}</small>
				</div>
				
				<select class="form-control input-sm" ng-model="model.selectedTrackerId" ng-options="t.code as t.name for t in model.trackerOptions"></select>
				
			</div>
			
			<div class="well well-sm" style="margin:20px" ng-show="model.selectedTracker!=null">
				
				<!-- custom tracker -->
				<form role="form" class="form-horizontal" ng-show="model.selectedTrackerType == constants.TYPE_TRACKER" ng-controller="TrackersCtrl">
			
					<div class="alert alert-warning alert-dismissable" ng-if="status!=null">
						<button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="setStatus()">&times;</button>
						<small>{{status}}</small>
					</div>
					
					<div class="form-group">
			        
                       <div class="col-xs-12">
                       		<h4>{{model.selectedTracker.definition.actionLabel}}</h4>
                       </div>
							
                    </div>
                    
					<div class="form-group">
			        
                       <div class="col-xs-9">
                       		<div>
                       			<input type="text" class="form-control" ng-model="trackersModel.form.add.value" bootstrap-slider bootstrap-slider-max="{{model.selectedTracker.definition.max}}" bootstrap-slider-units="model.selectedTracker.definition.unitLabel">
                      		</div>
                       </div>
                       
                       <div class="col-xs-3">
							<label>{{trackersModel.form.add.unit}}</label>
						</div>
							
                    </div>
                    
                    <div class="form-group">
		            
		            	<div class="col-xs-2">
		            		<label class="control-label">on</label>
			            </div>
			            
			            <div class="col-xs-10">
		            		<input type="date" class="form-control input-sm" ng-model="trackersModel.form.add.date">
			            </div>
			            
			         </div>
			         
			         <div class="form-group">
			         
			            <div class="col-xs-5">
		            		<label class="control-label">starting at</label>
			            </div>
			            
			            <div class="col-xs-7">
		            		<input type="time" class="form-control input-sm" ng-model="trackersModel.form.add.time">
			            </div>
			            
		            </div>
		            
					<div class="form-group">
					
	                 	<div class="col-xs-12">
	                		<button type="submit" class="btn btn-primary" ng-click="addRecord()">Submit</button>
	                	</div>
	                	
					</div>
					
                </form>
                
                <!--	vital -->
				<form role="form" class="form-horizontal" ng-show="model.selectedTrackerType == constants.TYPE_VITAL" ng-controller="VitalsCtrl">
			
					<div class="alert alert-warning alert-dismissable" ng-if="status!=null">
						<button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="setStatus()">&times;</button>
						<small>{{status}}</small>
					</div>
										
					<div class="form-group">
			        
                    	<div class="col-xs-12">
                       		<h4>{{model.selectedTracker.definition.actionLabel}}</h4>
                       	</div>
							
                    </div>
                    
					<div class="form-group" ng-repeat="component in vitalsModel.form.add.components" ng-switch on="component.inputType">
			        
                       <div ng-class="{'col-xs-9':component.suffix,'col-xs-12':!component.suffix}" ng-switch-when="range">
                       		<input type="text" class="form-control" ng-model="component.value" bootstrap-slider bootstrap-slider-max="{{component.max}}" bootstrap-slider-units="model.selectedTracker.definition.unit">
                       </div>
                       
                       <div ng-class="{'col-xs-9':component.suffix,'col-xs-12':!component.suffix}" ng-switch-when="text">
                       		<input type="number" class="form-control" pattern="[0-9]*" ng-model="component.value">
                       </div>
                       
                       <div class="col-xs-3" ng-if="component.suffix">
							<label>{{component.suffix}}</label>
						</div>
							
                    </div>
	                
	                <div class="form-group">
		            
		            	<div class="col-xs-2">
		            		<label class="control-label">on</label>
			            </div>
			            
			            <div class="col-xs-10">
		            		<input type="date" class="form-control input-sm" ng-model="vitalsModel.form.add.date">
			            </div>
			            
			         </div>
			         
			         <div class="form-group">
			         
			            <div class="col-xs-2">
		            		<label class="control-label">at</label>
			            </div>
			            
			            <div class="col-xs-10">
		            		<input type="time" class="form-control input-sm" ng-model="vitalsModel.form.add.time">
			            </div>
			            
		            </div>
		            
					<div class="form-group">
					
	                 	<div class="col-xs-12">
	                		<button type="submit" class="btn btn-primary" ng-click="addRecord()">Submit</button>
	                	</div>
	                	
					</div>
	                
				</form>
	            
	            <!-- medication -->
				<form role="form" class="form-horizontal" ng-show="model.selectedTrackerType == constants.TYPE_MEDICATION" ng-controller="MedicationsCtrl">
				
					<div class="alert alert-warning alert-dismissable" ng-if="status!=null">
						<button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="setStatus()">&times;</button>
						<small>{{status}}</small>
					</div>
					
					<div class="form-group">
			            
		            	<label class="col-xs-3 control-label">I took</label>
		            	
		            	<div class="col-xs-5">
		            		<input type="number" class="form-control input-sm" ng-model="medicationsModel.form.add.dosageValue" value="1" min="0" max="5000">
		            	</div>
		            	
		            	<div class="col-xs-4">
		            		<select class="form-control input-sm" ng-model="medicationsModel.form.add.dosageUnit" ng-options="t.value as t.label for t in medicationsModel.formOptions.dosageUnits"></select>
			            </div>
			            
		            </div>
			            
		           	<div class="form-group">
		            
		            	<div class="col-xs-12">
			           		<select class="form-control input-sm" ng-model="medicationsModel.form.add.routeCode" ng-options="t.value as t.label for t in medicationsModel.formOptions.dosageRoutes"></select>
			            </div>
			            
		            </div>
		            
		           	<div class="form-group">
		            
		            	<div class="col-xs-2">
		            		<label class="control-label">on</label>
			            </div>
			            
			            <div class="col-xs-10">
		            		<input type="date" class="form-control input-sm" ng-model="medicationsModel.form.add.date">
			            </div>
			            
			         </div>
			         
			         <div class="form-group">
			         
			            <div class="col-xs-2">
		            		<label class="control-label">at</label>
			            </div>
			            
			            <div class="col-xs-10">
		            		<input type="time" class="form-control input-sm" ng-model="medicationsModel.form.add.time">
			            </div>
			            
		            </div>
	                
	                <div class="form-group">
	                
	                	<div class="col-xs-12">
	               			<button type="submit" class="btn btn-primary" ng-click="addRecord()">Submit</button>
	               		</div>
	               		
	                </div>
	                
	        	</form>
	        	
			</div>
			
		</tab>
		
		<tab heading="Compare" class="small"></tab>
		<tab heading="Settings" class="small">
			<tab-heading>
        		<i class="glyphicon glyphicon-cog"></i>
      		</tab-heading>
		</tab>
		
	</tabset>

</div>